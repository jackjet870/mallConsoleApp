var app;!function(){"use strict";function t(){var t={};return t.isTest=function(){return a===n.test},t.isProduct=function(){return a===n.product},t.isDevelop=function(){return a===n.develop},t}function e(){angular.module("ui.router.history",["ui.router"]).service("$history",["$state",function(t){var e=[];angular.extend(this,{push:function(t,n){e.push({state:t,params:n})},all:function(){return e},go:function(e){var n=this.previous(e||-1);return t.go(n.state,n.params)},previous:function(t){return e[e.length-Math.abs(t||1)]},back:function(){return this.go(-1)}})}]).run(["$history","$state","$rootScope",function(t,e,n){n.$on("$stateChangeSuccess",function(e,n,a,o,s){o["abstract"]||t.push(o,s)}),t.push(e.current,e.params)}])}var n=Object.freeze({test:1,product:2,develop:3,"static":4}),a=n["static"],o=t();o[n.test]={isTest:!0,apiBaseUrl:void 0,uploadUrl:void 0},o[n.product]={isProduct:!0,apiBaseUrl:"",uploadUrl:""},o[n.develop]={isDevelop:!0,apiBaseUrl:"http://localhost:7245/api",uploadUrl:"http://localhost:7245/api/fileUp"},o[n["static"]]=angular.extend({},o[n.develop],{isStatic:!0,testData:"assets/test-data"}),e(),app=angular.module("mallConsoleApp",["ngAnimate","ngTouch","ngSanitize","restangular","ui.router","ngStorage","ui.bootstrap","ngFileUpload","ui.tree","ckeditor","ui.sortable","ui.router.history"]),app.constant("environment",o[a]),app.constant("ngAuthSettings",{apiServiceBaseUri:"/",clientId:"ngAuthApp"}),app.config(["$httpProvider",function(t){t.interceptors.push("authInterceptorService")}]),app.run(["authService",function(t){t.fillAuthData()}])}(),function(){"use strict";function t(){function t(){return e}var e=[{title:"AngularJS",url:"https://angularjs.org/",description:"HTML enhanced for web apps!",logo:"angular.png"},{title:"BrowserSync",url:"http://browsersync.io/",description:"Time-saving synchronised browser testing.",logo:"browsersync.png"},{title:"GulpJS",url:"http://gulpjs.com/",description:"The streaming build system.",logo:"gulp.png"},{title:"Jasmine",url:"http://jasmine.github.io/",description:"Behavior-Driven JavaScript.",logo:"jasmine.png"},{title:"Karma",url:"http://karma-runner.github.io/",description:"Spectacular Test Runner for JavaScript.",logo:"karma.png"},{title:"Protractor",url:"https://github.com/angular/protractor",description:"End to end test framework for AngularJS applications built on top of WebDriverJS.",logo:"protractor.png"},{title:"Bootstrap",url:"http://getbootstrap.com/",description:"Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.",logo:"bootstrap.png"},{title:"Angular UI Bootstrap",url:"http://angular-ui.github.io/bootstrap/",description:"Bootstrap components written in pure AngularJS by the AngularUI Team.",logo:"ui-bootstrap.png"},{title:"Less",url:"http://lesscss.org/",description:"Less extends the CSS language, adding features that allow variables, mixins, functions and many other techniques.",logo:"less.png"}];this.getTec=t}angular.module("mallConsoleApp").service("webDevTec",t)}(),function(){"use strict";function t(){function t(t,e){var n=this;n.logOut=function(){e.logOut(),t.go("home")},n.authentication=e.authentication}var e={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$state","authService"],e}angular.module("mallConsoleApp").directive("acmeNavbar",t)}(),function(){"use strict";function t(t){function e(e,n,a,o){var s,i=t(n[0],{typeSpeed:40,deleteSpeed:40,pauseDelay:800,loop:!0,postfix:" "});n.addClass("acme-malarkey"),angular.forEach(e.extraValues,function(t){i.type(t).pause()["delete"]()}),s=e.$watch("vm.contributors",function(){angular.forEach(o.contributors,function(t){i.type(t.login).pause()["delete"]()})}),e.$on("$destroy",function(){s()})}function n(t,e){function n(){return a().then(function(){t.info("Activated Contributors View")})}function a(){return e.when([]).then(function(t){return o.contributors=t,o.contributors})}var o=this;o.contributors=[],n()}var a={restrict:"E",scope:{extraValues:"=?"},template:"&nbsp;",link:e,controller:n,controllerAs:"vm"};return n.$inject=["$log","$q"],a}angular.module("mallConsoleApp").directive("acmeMalarkey",t),t.$inject=["malarkey"]}(),function(){"use strict";angular.module("mallConsoleApp").controller("imgPickerModalInsCtrl",["$log","$scope","$sce","Upload","utils","environment","$modalInstance","inData",function(t,e,n,a,o,s,i,r){e.tabs=[{heading:"图片选择",template:"tab-select.html",active:!0},{heading:"图片上传",template:"tab-upload.html"}],e.imgPickerCtx={inData:r,files:[],outData:"",upload:function(t){t.length&&(o.uploadProductPicFunc(a,e,{})(t),e.uploadResult&&e.uploadResult.length&&(e.servedImages=e.uploadResult.concat(e.servedImages),e.uploadResult.length=0))}},e.servedImages=_.map(["<img src='assets/images/karma.png' style='width:200px'/>"],function(t){return{eurl:t,rurl:t}}),e.makeUp=function(t,a){e.uploadResult=t?a:angular.map(a,function(t){var e="<img src='assets/images/"+t.name+"' style='width:100px'/>";return{eurl:n.trustAsHtml(e),rurl:e}}),e.imgPickerCtx.files.length=0,e.tabs[0].active=!0},e.insertSelected=function(){var t=[];e.uploadResult&&e.uploadResult.length&&angular.forEach(e.uploadResult,function(e){e.selected&&t.push(e.rurl)}),e.servedImages&&e.servedImages.length&&angular.forEach(e.servedImages,function(e){e.selected&&t.push(e.rurl)}),i.close(t)},e.cancel=function(){i.dismiss("cancel")}}])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"app/components/debug-dev/debug-dev.html"}}angular.module("mallConsoleApp").directive("debugDev",t)}(),function(){"use strict";angular.module("mallConsoleApp").factory("utils",["$log","environment",function(t,e){return{findById:function(t,e,n){for(var a=0;a<t.length;a++)if(String(t[a][n||"id"])===String(e))return t[a];return null},newRandomKey:function(t,e,n){var a;do a=t[Math.floor(t.length*Math.random())][e];while(a===n);return a},uploadProductPicFunc:function(n,a,o){return o=o||{},o.url=o.url||e.uploadUrl,o.token_value=o.token_value||null,o.headers={client_id:"ngAuthApp",Authorization:"bearer "+o.token_value},function(s){n.upload({url:o.url,file:s,method:"POST",params:{},headers:o.headers,data:{},withCredentials:!0,transformRequest:angular.identity}).progress(function(e){a.progressPercentage=parseInt(100*e.loaded/e.total),t.debug("progress: "+a.progressPercentage+"% "+e.config.file.name)}).success(function(e){t.debug("---uploaded ...",e),a.makeUp(!0,e)}).error(function(n){t.debug("---upload failed ...",n),e.isDevelop&&a.makeUp(!1,s)})}},ckeditorConfig:function(t){function e(t){t.toolbar=[{name:"document",groups:["mode","document","doctools"],items:["Source","-","NewPage","Preview","-","Templates"]},{name:"basicstyles",groups:["basicstyles","cleanup"],items:["Bold","Italic","Underline","Strike","-","RemoveFormat"]},{name:"paragraph",groups:["blocks","align"],items:["Blockquote","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},{name:"insert",groups:["media"],items:["Image2","Smiley","CodeSnippet","Image"]},{name:"links",items:["Link"]},{name:"styles",items:["Font","FontSize"]},{name:"colors",items:["TextColor","BGColor"]},{name:"tools",items:["Maximize","ShowBlocks"]},{name:"about",items:["About"]}],t.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["blocks","align"]},{name:"links"},{name:"insert",groups:["media"]},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"about"}],t.codeSnippet_theme="default"}var n={};return t&&"default"!==t?(e(n),n):n}}}])}(),function(){"use strict";angular.module("mallConsoleApp").directive("singleImgUpload",["utils",function(t){return{restrict:"EA",scope:{src:"="},template:'<div>\n  <div class="btn-group">\n    <button ngf-select\n            class="btn btn-info"\n            ngf-accept="\'image/*\'"\n            ng-model="files"\n            ngf-keep-distinct="true"\n            ngf-keep="true">\n      <h6>更换</h6>\n    </button>\n    <button class="btn btn-warning" ng-show="files.length" ng-click="upload()"><h6>上传</h6></button>\n    <button class="btn btn-danger" ng-show="files.length" ng-click="files.length=0"><h6>取消</h6></button>\n  </div>\n\n  <div class="row" ng-show="files.length">\n    <img ngf-src="files[0]" ngf-accept="\'image/*\'" style="width:100%;padding: 15px">\n  </div>\n  <div class="row" ng-hide="files.length">\n    <img ng-src="{{src}}" alt="原图片"/>\n  </div>\n  \n  <!--进度条-->\n  <progressbar value="progressPercentage"\n               ng-if="rogressPercentage>=0 && progressPercentage<1">\n        <span style="color:black; white-space:nowrap;">\n        {{progressPercentage}}</span>\n  </progressbar>\n</div>',controller:["$scope","Upload",function(e,n){e.test="I am from Directive singleImgUpload!",e.makeUp=function(t,n){t||(e.src="assets/images/"+n[0].name)},e.$on("$destroy",function(){delete e.files}),e.upload=function(){e.files&&e.files.length&&t.uploadProductPicFunc(n,e,{})(e.files)}}]}}])}(),function(){"use strict";angular.module("mallConsoleApp").directive("pseudoListTree",function(){return{restrict:"EA",template:'<div ui-tree>\n  <ul ui-tree-nodes="" ng-model="innerTree">\n    <li ng-repeat="node in innerTree" ui-tree-node>\n\n      <div class="tree-node" ui-tree-handle>\n        <div class="pull-left tree-handle">\n          <span class="glyphicon glyphicon-list"></span>\n        </div>\n        <div class="tree-node-content">\n          {{node.title}}\n          <!--<a class="pull-right btn btn-danger btn-xs" data-nodrag ng-click="remove(this)">-->\n            <!--<span class="glyphicon glyphicon-remove"></span></a>-->\n        </div>\n      </div>\n\n\n    </li>\n  </ul>\n</div>',scope:{innerTree:"=ngModel"}}})}(),function(){"use strict";angular.module("learn.rating",[]).constant("ratingConfig",{max:5,stateOn:"glyphicon-star",stateOff:"glyphicon-star-empty"}).directive("rating",function(){return{restrict:"EA",require:["ngModel","rating"],scope:{readOnly:"=?",onHover:"&",onLeave:"&"},controller:"ratingCtrl",template:'<span ng-mouseleave="reset()" tabindex="0" role="slider">\n    <i ng-repeat="r in range track by $index" \n       ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" \n       class="glyphicon" \n       ng-class="$index < value && (r.stateOn ) || (r.stateOff )">\n</i></span>',replace:!0,link:function(t,e,n,a){var o=a[1],s=a[0];o.init(s)}}}).controller("ratingCtrl",["$scope","$attrs","ratingConfig",function(t,e,n){var a=this,o={$setViewValue:angular.noop};a.render=function(){return t.value=o.$viewValue},a.init=function(s){o=s,o.$render=a.render,o.$formatters.push(angular.noop),a.stateOn=e.stateOn||n.stateOn,a.stateOff=e.stateOff||n.stateOff;var i=new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(i)},a.buildTemplateObjects=function(t){for(var e=0;e<t.length;e++)t[e]=angular.extend({index:e},{stateOn:a.stateOn,stateOff:a.stateOff},t[e]);return t},t.rate=function(e){!t.readOnly&&e>=0&&e<=t.range.length&&(o.$setViewValue(e),o.$render())},t.enter=function(e){t.readOnly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=o.$viewValue,t.onLeave()}}])}(),function(){"use strict";angular.module("ionic.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var a;return a={$setViewValue:angular.noop},this.init=function(o){var s,i;return a=o,a.$render=this.render,this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff,s=angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max,i=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(s),t.range=this.buildTemplateObjects(i)},this.buildTemplateObjects=function(t){var e,n,a,o;for(o=t.length,n=0,a=o.length;a>n;n++)e=o[n],t[e]=angular.extend({index:1},{stateOn:this.stateOn,stateOff:this.stateOff},t[e]);return t},t.rate=function(e){return!t.readonly&&e>=0&&e<=t.range.length?(a.$setViewValue(e),a.$render()):void 0},t.reset=function(){return t.value=a.$viewValue,t.onLeave()},t.enter=function(e){return t.readonly||(t.value=e),t.onHover({value:e})},t.onKeydown=function(e){return/(37|38|39|40)/.test(e.which)?(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?{1:-1}:void 0))):void 0},this.render=function(){return t.value=a.$viewValue},this}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",template:'<ul class="rating" ng-mouseleave="reset()" ng-keydown="onKeydown($event)"><li ng-repeat="r in range track by $index" ng-click="rate($index + 1)"><i class="icon" ng-class="$index < value && (r.stateOn || \'ion-ios-star\') || (r.stateOff || \'ion-ios-star-outline\')"></i></li></ul>',replace:!0,link:function(t,e,n,a){var o,s;return s=a[0],o=a[1],o?s.init(o):void 0}}})}.call(this),function(){"use strict";angular.module("mallConsoleApp").controller("SignupCtrl",["$scope","$location","$timeout","authService",function(t,e,n,a){t.savedSuccessfully=!1,t.message="",t.registration={userName:"",password:"",deptId:"",confirmPassword:""},t.signUp=function(){a.saveRegistration(t.registration).then(function(e){t.savedSuccessfully=!0,t.message="注册成功！页面将会在2秒内跳转至登录页"+e,o()},function(e){var n=[];for(var a in e.data.modelState)for(var o=0;o<e.data.modelState[a].length;o++)n.push(e.data.modelState[a][o]);t.message="Failed to register user due to:"+n.join(" ")})};var o=function(){var t=n(function(){n.cancel(t),e.path("/login")},2e3)}}])}(),function(){"use strict";angular.module("mallConsoleApp").controller("SettingsCtrl",["$scope","$state","authService","$window",function(t,e,n,a){t.authentication=n.authentication,t.authentication.isAuth||e.go("login"),t.errors={},t.changePassword=function(o){t.submitted=!0,o.$valid&&(a.console.log(n),n.changePassword(n.authentication.userName,t.user.oldPassword,t.user.newPassword).then(function(){t.message="密码已经修改！",a.alert(t.message),e.go("home")})["catch"](function(e){o.password.$setValidity("mongoose",!1),t.errors.other="错误的密码！",t.message="",a.console.log(e)}))}}])}(),function(){"use strict";angular.module("mallConsoleApp").controller("LoginCtrl",["$scope","$state","authService",function(t,e,n){t.loginData={userName:"",password:"",useRefreshTokens:!0},t.message="",t.login=function(){n.login(t.loginData).then(function(){e.go("home",{reload:!0})},function(e){t.message=e})}}])}(),function(){"use strict"}(),function(){"use strict"}(),function(){"use strict";angular.module("mallConsoleApp").config(["$stateProvider","$urlRouterProvider",function(t){t.state("products",{url:"/products","abstract":!0,templateUrl:"app/products/products.html",resolve:{Categories:["productsService",function(t){return t.getCategories()}]},controller:["$scope","$state","$http","$timeout","Upload","Categories",function(t,e,n,a,o,s){t.Categories=s}]}).state("products.overview",{url:"",templateUrl:"app/products/products.overview.html"}).state("products.template",{url:"/tmpl/{tmplId:[0-9]+}",resolve:{tmplProducts:["utils","productsService","$stateParams",function(t,e,n){return e.getProductsByCategoryId(n.tmplId)}]},views:{"":{templateUrl:function(t){return"app/products/tmpl"+t.tmplId+".html"},controller:"ProductsOfCategoryController"}}}).state("products.template.single",{url:"/{prodId:[0-9]+}",templateUrl:"app/products/products.single.html",resolve:{productInfo:["productsService","$stateParams",function(t,e){return t.getInfo(e.prodId).then(function(t){return t})}]},controller:"SingleProductManageController"})}])}(),function(){"use strict";angular.module("mallConsoleApp").controller("ProductsOfCategoryController",["$scope","$state","$stateParams","$timeout","tmplProducts",function(t,e,n,a,o){t.products=o}]).controller("SingleProductManageController",["$q","$timeout","$scope","$stateParams","$state","utils","$log","toastr","CKEDITOR","$history","$modal","Upload","tmplProducts","productInfo",function(t,e,n,a,o,s,i,r,l,c,d,u,p,m){var g=s.findById(p,a.prodId,"productID");g.onSaleTime=new Date(g.onSaleTime),g.offSaleTime=new Date(g.offSaleTime),n.productIns=angular.copy(g),n.productInfo=angular.copy(m),i.debug("--products.single:productIns--",n.productIns,"--productInfo--",m),n.$stateParams=a,n.back=function(){c.back()},n.$watch(function(t){return{productIns:t.productIns,productInfo:t.productInfo}},function(t,e){1===n.mainState&&t.productIns!==e.productIns&&(n.mainState=2),1===n.infoState&&t.productInfo!==e.productInfo&&(n.infoState=2)},!0),n.mainState=0,n.infoState=0,n.StateDesc={0:["编辑","glyphicon glyphicon-pencil"],1:["","glyphicon glyphicon-console"],2:["保存","glyphicon glyphicon-floppy-save"]},n.mainCancel=function(){n.mainState=0,angular.extend(n.productIns,g)},n.infoCancel=function(){n.infoState=0,angular.extend(n.productInfo,m)},n.mainEdit=function(){2===n.mainState&&(n.StateDesc.mainProcessing=!0,e(function(){t.when(g).then(function(){n.mainState=0},function(t){r.error(t)})["finally"](function(){n.StateDesc.mainProcessing=void 0})},500)),n.mainState=(n.mainState+1)%2},n.infoEdit=function(){2===n.infoState&&(n.StateDesc.infoProcessing=!0,e(function(){t.when(g).then(function(){n.infoState=0},function(t){r.error(t)})["finally"](function(){n.StateDesc.infoProcessing=void 0})},500)),n.infoState=(n.infoState+1)%2},n.bluringRichTextEditor=function(){},n.pickBack=void 0,n.openImgPicker=function(){var t=d.open({animation:!1,templateUrl:"app/components/img-picker/img-picker.html",controller:"imgPickerModalInsCtrl",size:"lg",resolve:{inData:function(){return"Hello"}}});t.result.then(function(t){n.pickBack=t,i.info("Modal return with: ",t);var e=l.instances.editor1;angular.forEach(t,function(t){var n=l.dom.element.createFromHtml(t,e.document);e.insertElement(n)})},function(t){i.info("Modal dismissed at: ",t)})}}])}(),function(){"use strict";angular.module("mallConsoleApp").factory("productsService",["$http","utils","environment",function(t,e,n){var a={header:{"Content-Type":"application/json; charset=utf-8"}},o=function(e){return t.get(e,a).then(function(t){return t.data.data},function(t){return t})},s=o(n.testData+"/products.json"),i=o(n.testData+"/productsCategory.json"),r=o(n.testData+"/productsInfo.json"),l={};return l.getProductsByCategoryId=function(t){return s.then(function(e){return void 0===t?e:e.filter(function(e){return String(e.subCategoryId)===String(t)})})},l.getCategories=function(){return i.then(function(t){return t})},l.get=function(t){return s.then(function(n){return e.findById(n,t,"productID")})},l.getInfo=function(t){return r.then(function(n){return e.findById(n,t,"productID")})},l}])}(),function(){"use strict";angular.module("mallConsoleApp").config(["$stateProvider",function(t){t.state("orders",{"abstract":!0,url:"/orders",templateUrl:"app/orders/orders.html",resolve:{orders:["ordersService",function(t){return t.all()}]},controller:["$scope","$state","orders",function(t,e,n){t.orders=n,t.selectOrder=function(e){t.orderSelected=e},t.deliverys={},angular.forEach(n,function(e){t.deliverys[e.orderNo]=!1}),t.viewDelivery=function(e){t.deliverys[e]=!t.deliverys[e]},t.limitTo=3,t.orderStates=["","未支付订单","待发货订单","待收货订单","待评价订单"],t.selectedState=t.orderStates[0],t.goToDetail=function(t){e.go("orders.detail",{orderId:t})}}]}).state("orders.list",{url:"",templateUrl:"app/orders/orders.list.html"})}])}(),function(){"use strict";angular.module("mallConsoleApp").factory("ordersService",["$http","utils",function(t,e){var n="assets/orders.json",a={header:{"Content-Type":"application/json; charset=utf-8"}},o=t.get(n,a).then(function(t){return t.data.data},function(t){return t}),s={};return s.all=function(){return o},s.get=function(t){return o.then(function(){return e.findById(o,t)})},s}])}(),function(){"use strict";function t(t,e,n){function a(){s(),t(function(){i.classAnimation="rubberBand"},4e3)}function o(){n.info('Fork <a href="https://github.com/Swiip/generator-gulp-angular" target="_blank"><b>generator-gulp-angular</b></a>'),i.classAnimation=""}function s(){i.awesomeThings=e.getTec(),angular.forEach(i.awesomeThings,function(t){t.rank=Math.random()})}var i=this;i.awesomeThings=[],i.classAnimation="",i.creationDate=1437225003939,i.showToastr=o,a()}angular.module("mallConsoleApp").controller("HomeController",t),t.$inject=["$timeout","webDevTec","toastr"]}(),function(){"use strict";angular.module("mallConsoleApp").config(["$stateProvider",function(t){t.state("contacts",{"abstract":!0,url:"/contacts",templateUrl:"app/contacts/contacts.html",resolve:{contacts:["contactsService",function(t){return t.all()}]},controller:["$scope","$state","contacts",function(t,e,n){t.contacts=n}]}).state("contacts.list",{url:"",templateUrl:"app/contacts/contacts.list.html"}).state("contacts.detail",{url:"/{contactId:[0-9]{1,4}}",views:{"":{templateUrl:"app/contacts/contacts.detail.html",controller:["$scope","$stateParams","utils",function(t,e,n){t.contact=n.findById(t.contacts,e.contactId)}]},"hint@":{template:'This is contacts.detail populating the "hint" ui-view'},menuTip:{templateProvider:["$stateParams",function(t){return'<hr><small class="muted">Contact ID: '+t.contactId+"</small>"}]}}}).state("contacts.detail.item",{url:"/item/:itemId",views:{"":{templateUrl:"app/contacts/contacts.detail.item.html",controller:["$scope","$stateParams","$state","utils",function(t,e,n,a){t.item=a.findById(t.contact.items,e.itemId),t.edit=function(){n.go(".edit",e)}}]},"hint@":{template:' <p> This is contacts.detail.item overriding the "hint" ui-view </p>'}}}).state("contacts.detail.item.edit",{views:{"@contacts.detail":{templateUrl:"app/contacts/contacts.detail.item.edit.html",controller:["$scope","$stateParams","$state","utils",function(t,e,n,a){t.item=a.findById(t.contact.items,e.itemId),t.done=function(){n.go("^",e)}}]}}})}])}(),function(){"use strict";angular.module("mallConsoleApp").factory("contactsService",["$http","utils",function(t,e){var n="assets/test-data/contacts.json",a=t.get(n).then(function(t){return t.data.data}),o={};return o.all=function(){return a},o.get=function(t){return a.then(function(){return e.findById(a,t)})},o}])}(),function(){"use strict";angular.module("mallConsoleApp").config(["$stateProvider",function(t){t.state("comments",{url:"/comments",templateUrl:"app/comments/comments.html",resolve:{comments:["commentsService",function(t){return t.all()}]},controller:["$scope","$state","$http","$timeout","comments",function(t,e,n,a,o){t.comments=o,t.newItem={},t.states={newForm:!1,isAdding:!1},t.selectComment=function(e){t.selectedComment=e},t.showForm=function(e){t.states.newForm=e},t.addComment=function(e){t.states.isAdding=!0,a(function(){t.comments.push(e)},500)["finally"](function(){t.states.isAdding=!1,t.newItem={}})}}]})}])}(),function(){"use strict";angular.module("mallConsoleApp").factory("commentsService",["$http","utils",function(t,e){var n="assets/comments.json",a=t.get(n).then(function(t){return t.data.data}),o={};return o.all=function(){return a},o.get=function(t){return a.then(function(){return e.findById(a,t)})},o}])}(),function(t){"use strict";t.factory("authService",["$http","$log","$q","$window","$localStorage","ngAuthSettings","environment",function(t,e,n,a,o,s,i){var r=s.apiServiceBaseUri,l={},c=new Date((new Date).getTime()+36e5),d={isAuth:!1,userName:"",useRefreshTokens:!1},u=function(e){return h(),t.post(r+"api/account/register",e).then(function(t){return t})},p=function(t){var e={access_token:"23234241-1123-23"};return n.when(e).then(function(){d.isAuth=!0,d.userName=t.userName,d.useRefreshTokens=t.useRefreshTokens,o.authorizationData={token:e.access_token,userName:t.userName,refreshToken:"",useRefreshTokens:!1,liveBefore:c}})},m=function(e){var a="grant_type=password&username="+e.userName+"&password="+e.password;e.useRefreshTokens&&(a=a+"&client_id="+s.clientId);var i=n.defer();return t.post(r+"token",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){o.authorizationData=e.useRefreshTokens?{token:t.access_token,userName:e.userName,refreshToken:t.refresh_token,useRefreshTokens:!0,liveBefore:c}:{token:t.access_token,userName:e.userName,refreshToken:"",useRefreshTokens:!1,liveBefore:c},d.isAuth=!0,d.userName=e.userName,d.useRefreshTokens=e.useRefreshTokens,i.resolve(t)}).error(function(t){h(),i.reject(t)}),i.promise},g=function(n,o,s){e.info("arguments",arguments);var i={UserName:n,OldPassword:o,Password:s,ConfirmPassword:s};return t.post(r+"api/account/ChangePassword",i).then(function(t){return t},function(t){return a.alert("有错误发生!"+t),e.info("error",t),t})},h=function(){delete o.authorizationData,e.info("you call logout!"),d.isAuth=!1,d.userName="",d.useRefreshTokens=!1},f=function(){var t=o.authorizationData;t&&t.liveBefore>new Date&&(d.isAuth=!0,d.userName=t.userName,d.useRefreshTokens=t.useRefreshTokens)},v=function(){var e=n.defer(),a=o.authorizationData;if(a&&a.useRefreshTokens){var i="grant_type=refresh_token&refresh_token="+a.refreshToken+"&client_id="+s.clientId;delete o.authorizationData,t.post(r+"token",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){o.authorizationData={token:t.access_token,userName:t.userName,refreshToken:t.refresh_token,useRefreshTokens:!0},e.resolve(t)}).error(function(t){h(),e.reject(t)})}return e.promise};return l.saveRegistration=u,l.login=i.isStatic?p:m,l.logOut=h,l.changePassword=g,l.fillAuthData=f,l.authentication=d,l.refreshToken=v,l}])}(angular.module("mallConsoleApp")),function(t){"use strict";t.factory("authInterceptorService",["$q","$injector","$location","$localStorage",function(t,e,n,a){var o={},s=function(t){t.headers=t.headers||{};var e=a.authorizationData;return e&&(t.headers.Authorization="Bearer "+e.token),t},i=function(a){return 401===a.status&&(e.get("authService").logOut(),n.path("/account/login")),t.reject(a)};return o.request=s,o.responseError=i,o}])}(angular.module("mallConsoleApp")),function(){"use strict";angular.module("ngLocale",[],["$provide",function(t){var e={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["上午","下午"],DAY:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ERANAMES:["公元前","公元"],ERAS:["公元前","公元"],MONTH:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],SHORTDAY:["周日","周一","周二","周三","周四","周五","周六"],SHORTMONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"y年M月d日 ah:mm:ss",mediumDate:"y年M月d日",mediumTime:"ah:mm:ss","short":"yy/M/d ah:mm",shortDate:"yy/M/d",shortTime:"ah:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"¥",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤ -",negSuf:"",posPre:"¤ ",posSuf:""}]},id:"zh-cn",pluralCat:function(){return e.OTHER}})}])}(),function(){"use strict";function t(t){t.debug("runBlock end")}function e(t,e,n,a,o){t.authentication=o.authentication,t.$state=e,a.debug("$state",e),t.$stateParams=n,t.$on("$stateChangeError",function(t,e,n,o,s,i){a.error("---begin-of-$stateChangeError---",t,e,n,o,s,i,"---end-of-$stateChangeError---")})}angular.module("mallConsoleApp").run(t).run(e),t.$inject=["$log"],e.$inject=["$rootScope","$state","$stateParams","$log","authService"]}(),function(){"use strict";function t(t,e){t.state("home",{url:"/",cache:!1,templateUrl:"app/home/home.html",controller:"HomeController",controllerAs:"home"}).state("login",{url:"/account/login",templateUrl:"app/account/login/login.html",controller:"LoginCtrl"}).state("signup",{url:"/account/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupCtrl"}).state("settings",{url:"/account/settings",templateUrl:"app/account/settings/settings.html",controller:"SettingsCtrl",authenticate:!0}),e.otherwise("/")}angular.module("mallConsoleApp").config(t),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("mallConsoleApp").constant("malarkey",malarkey).constant("toastr",toastr).constant("moment",moment).constant("CKEDITOR",CKEDITOR)}(),function(){"use strict";function t(e,n,a){e.debugEnabled(!0),n.options.timeOut=3e3,n.options.positionClass="toast-top-right",n.options.preventDuplicates=!0,n.options.progressBar=!0,a.config.toolbarGroups=[{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker","editing"]},{name:"links",groups:["links"]},{name:"insert",groups:["insert"]},{name:"forms",groups:["forms"]},{name:"tools",groups:["tools"]},{name:"document",groups:["mode","document","doctools"]},{name:"others",groups:["others"]},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi","paragraph"]},{name:"styles",groups:["styles"]},{name:"colors",groups:["colors"]},{name:"about",groups:["about"]}],t.removeButtons="Underline,Subscript,Superscript,Scayt"}angular.module("mallConsoleApp").config(t),t.$inject=["$logProvider","toastr","CKEDITOR"]}(),angular.module("mallConsoleApp").run(["$templateCache",function(t){t.put("app/comments/comments.html",'<div class="row"><div class="col-md-3"><h1>订单评论</h1><div class="well well-sm"><ul class="nav nav-list"><li><div class="glyphicon glyphicon-search"><input type="text" ng-model="search" placeholder="请输入内容搜索"></div></li><li ng-repeat="comment in comments |filter:search" ui-sref-active="active"><a ng-click="selectComment(comment)"><div>{{comment.createDate}}</div><div>{{comment.topic}}</div></a></li></ul><hr></div></div><div ui-view="" class="col-md-9"></div></div>'),t.put("app/comments/comments.list.html",'<div><ul class="nav nav-list"><li><div class="glyphicon glyphicon-search"><input type="text" ng-model="search" placeholder="请输入内容搜索"></div></li><li ng-repeat="comment in comments |filter:search" ui-sref-active="active"><a ng-click="selectComment(comment)"><div>{{comment.createDate}}</div><div>{{comment.topic}}</div></a></li></ul></div>'),t.put("app/contacts/contacts.detail.html",'<div><h2>{{contact.name}}</h2><ul><li ng-repeat="item in contact.items"><a ui-sref="contacts.detail.item({itemId:item.id})">{{item.type}}</a></li></ul><div ui-view="" class="slide"><small class="muted">选中一个进行编辑</small></div></div>'),t.put("app/contacts/contacts.detail.item.edit.html",'<hr><h4>{{item.type}} <button class="btn" ng-click="done()">Done</button></h4><div><input type="text" ng-model="item.value"></div>'),t.put("app/contacts/contacts.detail.item.html",'<hr><h4>{{item.type}} <button class="btn" ng-click="edit()">Edit</button></h4><div>{{item}}</div>'),t.put("app/contacts/contacts.html",'<div class="row"><div class="col-md-3"><h1>导航面板-contacts.html</h1><div class="well well-sm"><ul class="nav nav-list"><li ng-class="{ active: $state.includes(\'contacts.list\') }"><a ui-sref="contacts.list">所有联系人</a></li><li class="nav-divider"></li><li class="nav-header"><div class="container">重要联系人</div></li><li class="nav-divider"></li><li ng-repeat="contact in contacts | limitTo:2" ui-sref-active="active"><a ui-sref="contacts.detail({contactId:contact.id})">{{contact.name}}</a></li></ul><hr><div ui-view="menuTip" class="slide"></div></div></div><div ui-view="" class="col-md-9"></div><hr></div>'),t.put("app/contacts/contacts.list.html",'<h1>主要面板</h1><h2>所有联系人</h2><h6>contacts.list.html</h6><ul><li ng-repeat="contact in contacts"><a ui-sref="contacts.detail({contactId:contact.id})">{{contact.name}} - 点击激活contacts.details页面-效果:把该ui-sref激活的模板替入其父</a></li></ul>'),t.put("app/home/home.html",'<div class="container"><div class="jumbotron text-center"><h1>\'Allo, \'Allo!</h1><p class="lead"><img src="assets/images/yeoman.png" alt="I\'m Yeoman"><br>Always a pleasure scaffolding your apps.</p><p class="animated infinite" ng-class="home.classAnimation"><button type="button" class="btn btn-lg btn-success" ng-click="home.showToastr()">Splendid Toastr</button></p><p>With ♥ thanks to the contributions of<acme-malarkey extra-values="[\'Yeoman\', \'Gulp\', \'Angular\']"></acme-malarkey></p></div><div class="row"><div class="col-sm-6 col-md-4" ng-repeat="awesomeThing in home.awesomeThings | orderBy:\'rank\'"><div class="thumbnail"><img class="pull-right" ng-src="assets/images/{{ awesomeThing.logo }}" alt="{{ awesomeThing.title }}"><div class="caption"><h3>{{ awesomeThing.title }}</h3><p>{{ awesomeThing.description }}</p><p><a ng-href="{{awesomeThing.url}}">{{ awesomeThing.url }}</a></p></div></div></div></div></div>'),
t.put("app/orders/orders.html",'<div class="row"><div class="col-md-3"><h1>订单导航</h1><div class="well well-sm"><ul class="nav nav-list"><li><select class="form-control" ng-options="state||\'全部\' for state in orderStates" ng-model="selectedState"></select></li><li style="padding: 10px"><span>查看关注订单-显示</span> <span><input class="short-50" type="number" ng-model="limitTo"></span></li><li ng-if="order.favorite" ng-repeat="order in orders |limitTo:limitTo" ui-sref-active="active"><a ng-click="selectOrder(order)">{{order.userId}} <span ng-repeat="item in order.items"><img ng-src="{{item.pic}}" alt="图片" style="width:40px;height: 40px"></span></a></li></ul><hr><div ui-view="menuTip" class="slide"></div></div></div><div ui-view="" class="col-md-9"></div></div><div>订单数据预览--具体功能待开发<pre>\n        {{orderSelected|json}}\n    </pre></div>'),t.put("app/orders/orders.list.html",'<h1>订单列表</h1><div class="glyphicon glyphicon-search pull-right"><input type="text" ng-model="search" placeholder="请输入内容搜索"></div><div><table class="table table-stripped"><thead><tr><th width="10px"></th><th>订单号</th><th>图片</th><th>总价</th><th>状态</th><th width="100px"></th></tr></thead><tbody ng-repeat="order in orders|filter:selectedState | filter:{ orderNo:search,total:search}"><tr ng-class="{\'alert-success\':orderSelected.orderNo==order.orderNo}"><td><span ng-if="order.favorite" class="glyphicon gly glyphicon-star text-danger"></span></td><td><a ng-click="selectOrder(order)">{{order.orderNo}}</a></td><td><span ng-repeat="item in order.items"><img ng-src="{{item.pic}}" alt="图片" style="width:40px;height: 40px"></span></td><td>{{order.total|currency:\'#\'}}</td><td>{{order.state}}</td><td><a ng-if="order.delivery" ng-click="viewDelivery(order.orderNo)">查看物流</a></td></tr><tr ng-if="deliverys[order.orderNo]"><td colspan="12"><div class="row text-warning" ng-repeat="item in order.delivery.history"><span class="col-md-3 col-md-offset-1">{{item[1]}}</span> <span class="col-md-6">{{item[0]}}</span></div></td></tr></tbody></table></div>'),t.put("app/products/products.html",'<div class="row"><div class="col-md-2"><div class="well well-sm"><ul class="nav nav-list"><li ui-sref-active="active"><a ui-sref="products.overview" ui-sref-opts="{reload:true}">全部商品</a></li><li ui-sref-active="active" ng-repeat="item in Categories"><a ui-sref-opts="{reload:true}" ui-sref="products.template({tmplId:item.subCategoryID})">{{item.subCategoryName}}</a></li></ul></div></div><div class="col-md-10"><ui-view>产品预览及更新,删除,添加</ui-view></div></div>'),t.put("app/products/products.overview.html",'<div id="o-header-2013"><div class="w" id="header-2013"><h1>10000商城,多快好省</h1><div id="search-2013"><div class="i-search ld"><ul id="shelper" class="hide"></ul><div class="col-md-6 input-group"><input type="text" class="form-control" accesskey="s" id="key" autocomplete="off" onkeydown="javascript:if(event.keyCode==13) search(\'key\');"> <span class="input-group-addon" onclick="alert(\'没实现\');return false;">搜索</span></div></div></div></div><div class="w"><div id="nav-2013"><div id="categorys-2013" class="categorys-2014"><div class="mt ld"><h2><a href="http://www.jd.com/allSort.aspx">全部商品分类<b></b></a></h2></div><div id="_JD_ALLSORT" class="mc"><div class="item fore1"><span data-split="1"><h3><a href="http://book.jd.com/">图书</a>、<a href="http://mvd.jd.com/">音像</a>、<a href="http://e.jd.com/ebook.html">电子书</a></h3><s></s></span></div><div class="item fore2"><span data-split="1"><h3><a href="http://channel.jd.com/electronic.html">家用电器</a></h3><s></s></span></div><div class="item fore3"><span data-split="1"><h3><a href="http://shouji.jd.com/">手机</a>、<a href="http://channel.jd.com/digital.html">数码</a>、<a href="http://mobile.jd.com/index.do">京东通信</a></h3><s></s></span></div><div class="item fore4"><span data-split="1"><h3><a href="http://channel.jd.com/computer.html">电脑、办公</a></h3><s></s></span></div><div class="item fore5"><span data-split="1"><h3><a href="http://channel.jd.com/home.html">家居</a>、<a href="http://channel.jd.com/furniture.html">家具</a>、<a href="http://channel.jd.com/decoration.html">家装</a>、<a href="http://channel.jd.com/kitchenware.html">厨具</a></h3><s></s></span></div><div class="item fore6"><span data-split="1"><h3><a href="http://channel.jd.com/1315-1342.html">男装</a>、<a href="http://channel.jd.com/1315-1343.html">女装</a>、<a href="http://channel.jd.com/1315-1345.html">内衣</a>、<a href="http://channel.jd.com/jewellery.html">珠宝</a></h3><s></s></span></div><div class="item fore7"><span data-split="1"><h3><a href="http://channel.jd.com/beauty.html">个护化妆</a></h3><s></s></span></div><div class="item fore8"><span data-split="1"><h3><a href="http://channel.jd.com/shoes.html">鞋靴</a>、<a href="http://channel.jd.com/bag.html">箱包</a>、<a href="http://channel.jd.com/watch.html">钟表</a>、<a href="http://channel.jd.com/1672-2615.html">奢侈品</a></h3><s></s></span></div><div class="item fore9"><span data-split="1"><h3><a href="http://channel.jd.com/sports.html">运动户外</a></h3><s></s></span></div><div class="item fore10"><span data-split="1"><h3><a href="http://car.jd.com/">汽车</a>、<a href="http://channel.jd.com/auto.html">汽车用品</a></h3><s></s></span></div><div class="item fore11"><span data-split="1"><h3><a href="http://channel.jd.com/baby.html">母婴</a>、<a href="http://channel.jd.com/toys.html">玩具乐器</a></h3><s></s></span></div><div class="item fore12"><span data-split="1"><h3><a href="http://channel.jd.com/food.html">食品</a>、<a href="http://channel.jd.com/wine.html">酒类</a>、<a href="http://channel.jd.com/freshfood.html">生鲜</a>、<a href="http://china.jd.com">特产</a></h3><s></s></span></div><div class="item fore13"><span data-split="1"><h3><a href="http://channel.jd.com/health.html">营养保健</a></h3><s></s></span></div><div class="item fore14"><span data-split="1"><h3><a href="http://caipiao.jd.com/">彩票</a>、<a href="http://trip.jd.com/">旅行</a>、<a href="http://chongzhi.jd.com/">充值</a>、<a href="http://piao.jd.com/">票务</a></h3><s></s></span></div><div class="extra"><a href="http://www.jd.com/allSort.aspx">全部商品分类</a></div></div></div></div></div></div>'),t.put("app/products/products.single.edit.html",'<div class="container"><div class="form-group">singleProduct:{{singleProduct}} products:{{products|json}} $stateParams:{{$stateParams}} tmplProducts:{{tmplProducts}}<h1>编辑</h1><label>名称</label> <input type="text" class="form-control" placeholder="名称" ng-model="singleProduct.name"></div><div class="form-group"><label>价格</label> <input type="text" class="form-control" placeholder="价格" ng-model="singleProduct.price"></div><div class="form-group"><label>图片</label><div class="col-md-12 item-with-images"><div ui-sortable="" ng-model="singleProduct.orderImages"><div class="col-md-2" ng-repeat="fileurl in singleProduct.orderImages"><div><button class="close" ng-click="singleProduct.orderImages.splice($index,1)">&times;</button> <img ng-src="{{fileurl}}" style="max-height: 200px;max-width: 200px;"> <span>图片url:{{fileurl}}</span></div></div></div></div><div class="col-md-12 ngf-upload-area"><div class="btn-group"><button ngf-select="" class="pull-left btn btn-info" ngf-multiple="true" ngf-accept="\'image/*\'" ng-model="singleProduct._files" ngf-keep-distinct="true" ngf-keep="true" ngf-drop=""><h2>增加图片/或者拖放在这里</h2></button> <button class="btn btn-warning" ng-click="singleProduct.upload(singleProduct._files)"><h2>上传</h2></button></div><div class="col-md-12 col-xs-12" ui-sortable="" ng-model="singleProduct._files"><div class="col-md-2 col-xs-6" ng-repeat="file in singleProduct._files"><div><div><div class="close" ng-click="singleProduct._files.splice($index,1)">&times;</div><img ngf-src="file" ngf-accept="\'image/*\'" style="width:100%;padding: 15px"><center style="width:100%"><span ng-bind="file.name"></span></center></div></div></div></div><progressbar value="progressPercentage" ng-if="progressPercentage>=0 && progressPercentage<1"><span style="color:black; white-space:nowrap;">{{progressPercentage}}</span></progressbar></div></div><div class="form-group"><label>商品说明:</label><div><h2>多媒体编辑</h2><div class="alert alert danger" style="float:left;position: relative;padding:0"><div ckeditor="ckeditorOptions" ng-model="rteModel" style="z-index: 1000;width:1000px"></div><div><button class="btn btn-success" style="position:absolute;top:0;right:0;width: 100px" ng-click="openImgPicker()">上传图片</button></div></div></div></div><div class="row col-md-12"><button class="btn" ng-click="done()">保存</button></div></div>'),t.put("app/products/products.single.html",'<div class="container"><div class="row" style="position: relative"><div style="position: absolute;top:12px;right: 6%;z-index:1000"><img src="assets/images/waiting/waiting-pure-blue.gif" ng-show="StateDesc.mainProcessing" style="width: 100px" alt="处理中"> <button class="btn" ng-class="StateDesc[mainState][1]" ng-click="mainEdit()" ng-hide="mainState==1">{{StateDesc[mainState][0]}}</button> <button class="btn glyphicon glyphicon-remove" ng-click="mainCancel()" ng-show="mainState">取消</button> <button class="btn glyphicon glyphicon-circle-arrow-left" ui-sref="products.template">返回列表</button></div><div class="col-md-3"><div class="form-group" style="white-space:nowrap;overflow-x: hidden;overflow-y: auto"><div ng-show="!mainState"><img ng-src="{{productIns.pImagUrl}}" style="height: 300px" alt="商品图片未提供"></div><div ng-show="mainState"><single-img-upload src="productIns.pImagUrl"></single-img-upload></div></div></div><div class="col-md-9"><div class="form-group"><h3 ng-bind="productIns.productName"></h3></div><table class="table table-stripped"><tr><td class="col-md-4"><div class="form-group"><label>产品类型:</label> <span ng-show="!mainState" ng-bind="productIns.productTypeName"></span> <input ng-show="mainState" ng-model="productIns.productTypeName"></div></td><td class="col-md-4"><div class="form-group"><label>库存:</label> <span ng-show="!mainState" ng-bind="productIns.tCount"></span> <input ng-show="mainState" ng-model="productIns.tCount"></div></td><td class="col-md-4"><div class="form-group"><label>销售量:</label> <span ng-show="!mainState" ng-bind="productIns.tSaleCount"></span> <input ng-show="mainState" ng-model="productIns.tSaleCount"></div></td></tr><tr><td class="col-md-4"><div class="form-group"><label>评论数:</label> <span ng-show="!mainState" ng-bind="productIns.commentCNT"></span> <input ng-show="mainState" ng-model="productIns.commentCNT"></div></td><td class="col-md-4"><div class="form-group"><label>好评数:</label> <span ng-show="!mainState" ng-bind="productIns.tGoodReplyCnt"></span> <input ng-show="mainState" ng-model="productIns.tGoodReplyCnt"></div></td><td class="col-md-4"><div class="form-group"><label>有图评论:</label> <span ng-show="!mainState" ng-bind="productIns.imgCommentCNT"></span> <input ng-show="mainState" ng-model="productIns.imgCommentCNT"></div></td></tr><tr><td class="col-md-4" colspan="2"><div class="form-group"><label>上线时间:</label> <span ng-show="!mainState" ng-bind="productIns.onSaleTime|date:\'yyyy-MM-dd HH:mm:ss\'"></span><p class="input-group" ng-show="mainState"><input ng-model="productIns.onSaleTime" type="date" class="form-control" datepicker-popup="" is-open="on_opened" min-date="minDate" max-date="\'2020-06-22\'" datepicker-options="yyyy-MM-dd" close-text="Close"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="on_opened=true"><i class="glyphicon glyphicon-calendar"></i></button></span><timepicker ng-model="productIns.onSaleTime" show-meridian="false" arrowkeys="false" show-spinners="false" ng-change="changed()"></timepicker></p></div></td><td class="col-md-4"><div class="form-group"><label>咨询量:</label> <span ng-show="!mainState" ng-bind="productIns.consultcnt"></span> <input ng-show="mainState" ng-model="productIns.consultcnt"></div></td></tr><tr><td class="col-md-4" colspan="2"><div class="form-group"><label>下线时间:</label> <span ng-show="!mainState" ng-bind="productIns.offSaleTime|date:\'yyyy-MM-dd HH:mm:ss\'"></span><p class="input-group" ng-show="mainState"><input ng-model="productIns.onSaleTime" type="date" class="form-control" datepicker-popup="" is-open="off_opened" min-date="minDate" max-date="\'2020-06-22\'" datepicker-options="yyyy-MM-dd" close-text="Close"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="off_opened=true"><i class="glyphicon glyphicon-calendar"></i></button></span><timepicker ng-model="productIns.offSaleTime" show-meridian="false" arrowkeys="false" show-spinners="false" ng-change="changed()"></timepicker></p></div></td></tr></table></div></div><div class="row"><tabset><tab active="true"><tab-heading><span>产品参数</span> <img src="assets/images/waiting/waiting-pure-blue.gif" ng-show="StateDesc.infoProcessing" alt="处理中"> <button class="btn-link" ng-class="StateDesc[infoState][1]" ng-click="infoEdit()" ng-hide="infoState==1" title="{{StateDesc[infoState][0]}}"></button> <button class="btn-link glyphicon glyphicon-remove" ng-click="infoCancel()" ng-show="infoState" title="取消"></button></tab-heading><div><table class="table table-stripped"><tr><td class="col-md-4"><div class="form-group"><label>主要规格:</label><h6 ng-bind="productInfo.productInfo"></h6></div></td><td class="col-md-4"><div class="form-group"><label>产品描述:</label><h6 class="mute" ng-bind="productInfo.productDescription"></h6></div></td></tr></table><div class="col-md-12"><p ng-show="!infoState" ng-bind-html="productInfo.productDetails" ready=""></p><div ng-show="infoState" style="position: relative"><div ckeditor="" ng-model="productInfo.productDetails"></div><div><button class="btn btn-success" style="position:absolute;top:0;right:0;width: 100px" ng-click="openImgPicker()">上传图片</button></div></div></div></div></tab></tabset></div></div>'),t.put("app/products/tmpl3.html",'<ui-view><div class="container"><h1>虚拟商品列表({{products.length}}) <button class="btn btn-primary"><i class="glyphicon glyphicon-plus"></i>增加</button></h1><table class="table table-striped"><tr><th>id</th><th>名称</th><th>库存</th><th>图片</th><th>销售量</th><th>好评数</th><th>评论数</th><th>有图评论</th><th>咨询量</th><th>上线时间-下线时间</th><th></th></tr><tr ng-repeat="product in products"><td>{{product.productID}}</td><td>{{product.productName}}</td><td>{{product.tCount}}</td><td><img ng-src="{{product.pImagUrl}}" alt="商品图片" style="width:50px;height: 50px"></td><td>{{product.TSaleCount}}</td><td>{{product.TGoodReplyCnt}}</td><td>{{product.commentCNT}}</td><td>{{product.imgCommentCNT}}</td><td>{{product.consultcnt}}</td><td>{{product.onSaleTime}}/{{product.offSaleTime}}</td><td><span class="btn btn-primary" ng-click="goExplicit({prodId:product.productID})">详情</span></td></tr></table></div></ui-view>'),t.put("app/products/tmpl5.html",'<ui-view><div class="container"><h1>虚拟商品列表({{products.length}}) <button class="btn btn-primary"><i class="glyphicon glyphicon-plus"></i>增加</button></h1><table class="table table-striped"><tr><th>id</th><th>名称</th><th>库存</th><th>图片</th><th>销售量</th><th>好评数</th><th>评论数</th><th>有图评论</th><th>咨询量</th><th>上线时间-下线时间</th><th></th></tr><tr ng-repeat="product in products"><td>{{product.productID}}</td><td>{{product.productName}}</td><td>{{product.tCount}}</td><td><img ng-src="{{product.pImagUrl}}" alt="商品图片" style="width:50px;height: 50px"></td><td>{{product.tSaleCount}}</td><td>{{product.tGoodReplyCnt}}</td><td>{{product.commentCNT}}</td><td>{{product.imgCommentCNT}}</td><td>{{product.consultcnt}}</td><td>{{product.onSaleTime}}/{{product.offSaleTime}}</td><td><span class="btn btn-primary" ui-sref="products.template.single({prodId:product.productID})">详情</span></td></tr></table></div></ui-view>'),t.put("app/public-set/public-set.html","<div><h1>public-set entry.html</h1></div>"),t.put("app/account/login/login.html",'<div class="row"><div class="modal-content col-md-6 col-md-offset-3"><div class="modal-body"><form class="form-login" role="form"><h2 class="form-login-heading">Login</h2><input type="text" class="form-control" placeholder="Username" data-ng-model="loginData.userName" required="" autofocus=""> <input type="password" class="form-control" placeholder="Password" data-ng-model="loginData.password" required=""> <button class="btn btn-lg btn-info btn-block" type="submit" data-ng-click="login()">Login</button><div data-ng-hide="message == \'\'" class="alert alert-danger">{{message}}</div></form></div></div></div>'),t.put("app/account/settings/settings.html",'<div class="container"><div class="row"><div class="col-sm-12"><h1>Change Password</h1></div><div class="col-sm-12"><form class="form" name="form" ng-submit="changePassword(form)" novalidate=""><div class="form-group"><label>Current Password</label> <input type="password" name="password" class="form-control" ng-model="user.oldPassword" mongoose-error=""><p class="text-danger" ng-show="form.password.$error.mongoose">{{ errors.other }}</p></div><div class="form-group"><label>New Password</label> <input type="password" name="newPassword" class="form-control" ng-model="user.newPassword" ng-minlength="6" required=""><p class="text-danger" ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">密码需要至少六位</p></div><div class="form-group"><label>确认密码</label> <input type="password" name="confirmPassword" class="form-control" ng-model="user.confirmPassword" ng-minlength="6" required=""><p class="text-danger" ng-show="(form.newPassword.$viewValue && form.confirmPassword.$viewValue && form.newPassword.$viewValue!=form.confirmPassword.$viewValue)">确认密码不一致!</p><p class="text-danger" ng-show="(form.newPassword.$viewValue==form.password.$viewValue && (form.newPassword.$dirty || submitted) )">**新密码必须和旧密码不同!</p></div><p class="text-danger">{{ message }}</p><button class="btn btn-lg btn-primary" type="submit" data-ng-disabled="form.newPassword.$viewValue!=form.confirmPassword.$viewValue || form.newPassword.$viewValue==form.password.$viewValue">Save changes</button></form></div></div></div>'),t.put("app/account/signup/signup.html",'<form class="form-login" role="form"><h2 class="form-login-heading">Sign up</h2><input type="text" class="form-control" placeholder="Username" data-ng-model="registration.userName" required="" autofocus=""> <input type="password" class="form-control" placeholder="Password" data-ng-model="registration.password" required=""> <input type="password" class="form-control" placeholder="Confirm Password" data-ng-model="registration.confirmPassword" required=""> <input type="number" class="form-control" placeholder="DeptID" data-ng-model="registration.deptId"> <button class="btn btn-lg btn-info btn-block" type="submit" data-ng-click="signUp()">Submit</button><div data-ng-hide="message == \'\'" data-ng-class="(savedSuccessfully) ? \'alert alert-success\' : \'alert alert-danger\'">{{message}}</div></form>'),t.put("app/components/debug-dev/debug-dev.html","<h6>以下是调试数据</h6><hr><pre>authentication =  {{authentication}}\n$state = {{$state.current.name}}\n$stateParams = {{$stateParams}}\n$state full url = {{ $state.$current.url.source }}\n </pre>"),t.put("app/components/img-picker/img-picker.html",'<div class="modal-body" style="min-height: 400px"><tabset><tab ng-repeat="tab in tabs" heading="{{tab.heading}}" active="tab.active"><div ng-include="" src="tab.template"></div></tab></tabset></div><div class="modal-footer"><div class="row"><div class="col-md-4 col-md-offset-8 col-xs-12"><button class="btn btn-primary pull-right" ng-click="insertSelected()">插入选中</button><button class="btn btn-warning" ng-click="cancel()">Cancel</button></div></div></div><script type="text/ng-template" id="tab-upload.html"><div class="btn-group"> <button ngf-select class="pull-left btn btn-info" ngf-multiple="true" ngf-accept="\'image/*\'" ng-model="imgPickerCtx.files" ngf-keep-distinct="true" ngf-keep="true" ngf-drop> <!--<div class="btn btn-default">--> <h6>增加图片/或者拖放在这里</h6> <!--</div>--> </button> <button class="btn btn-warning" ng-click="imgPickerCtx.upload(imgPickerCtx.files)"><h6>上传</h6></button> </div> <div class="col-md-12 col-xs-12" ui-sortable ng-model="imgPickerCtx.files"> <div class="col-md-2 col-xs-6" ng-repeat="file in imgPickerCtx.files"> <div> <div> <div class="close" ng-click="imgPickerCtx.files.splice($index,1)">&times;</div> <img ngf-src="file" ngf-accept="\'image/*\'" style="width:100%;padding: 15px"> <center style="width:100%"><span ng-bind="file.name"></span></center> </div> </div> </div> </div> <!--进度条--> <progressbar value="imgPickerCtx.progressPercentage" ng-if="imgPickerCtx.progressPercentage>=0 && imgPickerCtx.progressPercentage<1"> <span style="color:black; white-space:nowrap;"> {{imgPickerCtx.progressPercentage}}</span></progressbar></script><script type="text/ng-template" id="tab-select.html"><!--上传之后--> <div class="container" ng-if="uploadResult.length"> <h2>最近上传</h2> <div class="row"> <div class="col-md-2 col-xs-6" ng-repeat="file in uploadResult"> <div> <label class="checkbox" style="cursor:pointer"> <input type="checkbox" ng-click="file.selected=true" /> <p ng-bind-html="file.eurl"></p> </label> </div> </div> </div> </div> <div class="container"> <h2>服务端图片</h2> <div class="row"> <div class="col-md-2 col-xs-6" ng-repeat="file in servedImages"> <div> <label class="checkbox" style="cursor:pointer"> <input type="checkbox" ng-click="file.selected=true" /> <p ng-bind-html="file.eurl"></p> </label> </div> </div> </div> </div></script>'),t.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" ui-sref="home"><span class="glyphicon glyphicon-home"></span> 10000社区商城管理</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6"><ul class="nav navbar-nav"><li ui-sref-active="active" ng-show="vm.authentication.isAuth"><a ui-sref="public-set">全局设定</a></li><li ui-sref-active="active" ng-show="vm.authentication.isAuth"><a ui-sref="products.overview">商品</a></li><li ui-sref-active="active" ng-show="vm.authentication.isAuth"><a ui-sref="orders">订单</a></li><li ui-sref-active="active" ng-show="vm.authentication.isAuth"><a ui-sref="home">物流</a></li><li ui-sref-active="active" ng-show="vm.authentication.isAuth"><a ui-sref="comments">评论</a></li><li ui-sref-active="active" ng-show="vm.authentication.isAuth"><a ui-sref="contacts.list">联系人</a></li></ul><ul class="nav navbar-nav navbar-right acme-navbar-text"><li ng-show="!vm.authentication.isAuth"><a ui-sref="login">登陆</a></li><li ng-show="vm.authentication.isAuth"><a ui-sref="setting" title="个人设置">你好, {{vm.authentication.userName}}<span class="glyphicon glyphicon-cog"></span></a></li><li><a ng-click="vm.logOut()">登出</a></li></ul></div></div></nav>')}]);